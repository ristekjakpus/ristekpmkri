<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal Kegiatan - JAKPUSSIDATU PMKRI Jakarta Pusat</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --pmkri-blue: #3498DB;
            --pmkri-red: #E74C3C;
            --pmkri-yellow: #F1C40F;
            --pmkri-orange: #E67E22;
            --pmkri-green: #2ECC71;
            --pmkri-light: #F9F9F9;
            --pmkri-dark: #2C3E50;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
            color: #333;
        }

        .card {
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: none;
            margin-bottom: 20px;
        }

        .card-header {
            background: linear-gradient(90deg, var(--pmkri-blue) 0%, #2980B9 100%);
            color: white;
            font-weight: 600;
            border-radius: 10px 10px 0 0 !important;
        }

        .btn-pmkri {
            background: linear-gradient(90deg, var(--pmkri-blue) 0%, #2980B9 100%);
            color: white;
            border: none;
            font-weight: 500;
            padding: 8px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .btn-pmkri:hover {
            background: linear-gradient(90deg, #2C81BA 0%, #2471A3 100%);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .btn-yellow {
            background: linear-gradient(90deg, var(--pmkri-yellow) 0%, var(--pmkri-orange) 100%);
            color: white;
            border: none;
            font-weight: 500;
            padding: 8px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .btn-yellow:hover {
            background: linear-gradient(90deg, #F39C12 0%, #E67E22 100%);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(241, 196, 15, 0.4);
        }

        .nav-pills .nav-link.active {
            background-color: var(--pmkri-blue);
        }

        .nav-pills .nav-link {
            color: var(--pmkri-dark);
        }

        .table-responsive {
            border-radius: 10px;
            overflow: hidden;
        }

        .table thead {
            background: linear-gradient(90deg, var(--pmkri-blue) 0%, #2980B9 100%);
            color: white;
        }

        .fc-event {
            cursor: pointer;
            transition: all 0.3s;
        }

        .fc-event:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .fc-toolbar-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }

        .activity-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 5px;
        }

        .badge-seminar { background-color: rgba(52, 152, 219, 0.15); color: var(--pmkri-blue); }
        .badge-latihan { background-color: rgba(46, 204, 113, 0.15); color: var(--pmkri-green); }
        .badge-rapat { background-color: rgba(241, 196, 15, 0.15); color: var(--pmkri-yellow); }
        .badge-lainnya { background-color: rgba(155, 89, 182, 0.15); color: #9B59B6; }

        .activity-card {
            transition: all 0.3s;
            border-left: 4px solid var(--pmkri-blue);
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        #calendar {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .fc-daygrid-event {
            border-radius: 6px;
        }

        .fc-col-header-cell {
            background-color: var(--pmkri-blue);
            color: white;
        }

        .fc-daygrid-day-number {
            color: var(--pmkri-dark);
            font-weight: 500;
        }

        .fc-day-today {
            background-color: rgba(52, 152, 219, 0.1) !important;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-2 col-md-3 d-md-block sidebar bg-white" style="min-height: 100vh; box-shadow: 3px 0 15px rgba(0,0,0,0.05);">
                <div class="pt-4">
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2">
                            <a class="nav-link" href="dashboard.html">
                                <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item mb-2">
                            <a class="nav-link active" href="jadwalkegiatan.html">
                                <i class="fas fa-calendar-alt me-2"></i> Jadwal Kegiatan
                            </a>
                        </li>
                        <li class="nav-item mb-2">
                            <a class="nav-link" href="dokumentasi.html">
                                <i class="fas fa-file-alt me-2"></i> Dokumentasi
                            </a>
                        </li>
                        <li class="nav-item mb-2">
                            <a class="nav-link" href="galerifoto.html">
                                <i class="fas fa-images me-2"></i> Galeri Foto
                            </a>
                        </li>
                        <li class="nav-item mb-2">
                            <a class="nav-link" href="galerivideo.html">
                                <i class="fas fa-video me-2"></i> Galeri Video
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-10 col-md-9 px-4 py-4 main-content">
                <h2 class="mb-4"><i class="fas fa-calendar-alt me-2"></i> Jadwal Kegiatan</h2>

                <ul class="nav nav-pills mb-4" id="activityTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="calendar-tab" data-bs-toggle="pill" data-bs-target="#calendar-view" type="button" role="tab">Kalender</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="list-tab" data-bs-toggle="pill" data-bs-target="#list-view" type="button" role="tab">Daftar Kegiatan</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="add-tab" data-bs-toggle="pill" data-bs-target="#add-view" type="button" role="tab">Tambah Kegiatan</button>
                    </li>
                </ul>

                <div class="tab-content" id="activityTabsContent">
                    <!-- Tab Kalender -->
                    <div class="tab-pane fade show active" id="calendar-view" role="tabpanel">
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Kalender Kegiatan</h5>
                                <div>
                                    <button class="btn btn-yellow btn-sm me-2" id="printCalendar">
                                        <i class="fas fa-print me-1"></i> Cetak
                                    </button>
                                    <button class="btn btn-pmkri btn-sm" id="exportCalendar">
                                        <i class="fas fa-download me-1"></i> Export
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="calendar"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Kegiatan Mendatang</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group">
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Seminar Kepemimpinan</h6>
                                                    <small class="text-muted">3 hari lagi</small>
                                                </div>
                                                <p class="mb-1">15 Juli 2025, 09:00 - 12:00 WIB</p>
                                                <small><span class="activity-badge badge-seminar">Seminar</span> Aula Universitas</small>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Pelatihan Public Speaking</h6>
                                                    <small class="text-muted">1 minggu lagi</small>
                                                </div>
                                                <p class="mb-1">20 Juli 2025, 13:00 - 16:00 WIB</p>
                                                <small><span class="activity-badge badge-latihan">Pelatihan</span> Ruang Rapat</small>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Rapat Evaluasi Kegiatan</h6>
                                                    <small class="text-muted">2 minggu lagi</small>
                                                </div>
                                                <p class="mb-1">25 Juli 2025, 10:00 - 12:00 WIB</p>
                                                <small><span class="activity-badge badge-rapat">Rapat</span> Kantor PMKRI</small>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Kegiatan Hari Ini</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group">
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Pembukaan Kegiatan Baru</h6>
                                                    <small class="text-muted">09:00 - 10:00 WIB</small>
                                                </div>
                                                <p class="mb-1">Aula Kampus</p>
                                                <small><span class="activity-badge badge-seminar">Upacara</span></small>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Koordinasi Panitia</h6>
                                                    <small class="text-muted">14:00 - 15:30 WIB</small>
                                                </div>
                                                <p class="mb-1">Ruang Rapat PMKRI</p>
                                                <small><span class="activity-badge badge-rapat">Rapat</span></small>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Daftar Kegiatan -->
                    <div class="tab-pane fade" id="list-view" role="tabpanel">
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Daftar Kegiatan</h5>
                                <div class="input-group" style="width: 300px;">
                                    <input type="text" class="form-control" placeholder="Cari kegiatan...">
                                    <button class="btn btn-outline-secondary" type="button"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>Nama Kegiatan</th>
                                                <th>Tanggal</th>
                                                <th>Waktu</th>
                                                <th>Lokasi</th>
                                                <th>Kategori</th>
                                                <th>Status</th>
                                                <th>Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>1</td>
                                                <td>Seminar Kepemimpinan</td>
                                                <td>15 Juli 2025</td>
                                                <td>09:00 - 12:00</td>
                                                <td>Aula Universitas</td>
                                                <td><span class="activity-badge badge-seminar">Seminar</span></td>
                                                <td><span class="badge bg-success">Akan Datang</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i></button>
                                                    <button class="btn btn-sm btn-outline-warning"><i class="fas fa-edit"></i></button>
                                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>Pelatihan Public Speaking</td>
                                                <td>20 Juli 2025</td>
                                                <td>13:00 - 16:00</td>
                                                <td>Ruang Rapat</td>
                                                <td><span class="activity-badge badge-latihan">Pelatihan</span></td>
                                                <td><span class="badge bg-success">Akan Datang</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i></button>
                                                    <button class="btn btn-sm btn-outline-warning"><i class="fas fa-edit"></i></button>
                                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>Rapat Evaluasi Kegiatan</td>
                                                <td>25 Juli 2025</td>
                                                <td>10:00 - 12:00</td>
                                                <td>Kantor PMKRI</td>
                                                <td><span class="activity-badge badge-rapat">Rapat</span></td>
                                                <td><span class="badge bg-success">Akan Datang</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i></button>
                                                    <button class="btn btn-sm btn-outline-warning"><i class="fas fa-edit"></i></button>
                                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>Retreat Anggota Baru</td>
                                                <td>5 Juni 2025</td>
                                                <td>08:00 - 17:00</td>
                                                <td>Villa Bogor</td>
                                                <td><span class="activity-badge badge-lainnya">Retreat</span></td>
                                                <td><span class="badge bg-secondary">Selesai</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i></button>
                                                    <button class="btn btn-sm btn-outline-warning"><i class="fas fa-edit"></i></button>
                                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <nav aria-label="Page navigation" class="mt-3">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" tabindex="-1">Previous</a>
                                        </li>
                                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item">
                                            <a class="page-link" href="#">Next</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Tambah Kegiatan -->
                    <div class="tab-pane fade" id="add-view" role="tabpanel">
                        <div class="row">
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Tambah Kegiatan Baru</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="activityForm">
                                            <div class="mb-3">
                                                <label for="activityName" class="form-label">Nama Kegiatan</label>
                                                <input type="text" class="form-control" id="activityName" required>
                                            </div>
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="activityDate" class="form-label">Tanggal</label>
                                                    <input type="date" class="form-control" id="activityDate" required>
                                                </div>
                                                <div class="col-md-3">
                                                    <label for="startTime" class="form-label">Waktu Mulai</label>
                                                    <input type="time" class="form-control" id="startTime" required>
                                                </div>
                                                <div class="col-md-3">
                                                    <label for="endTime" class="form-label">Waktu Selesai</label>
                                                    <input type="time" class="form-control" id="endTime" required>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="activityLocation" class="form-label">Lokasi</label>
                                                <input type="text" class="form-control" id="activityLocation" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="activityCategory" class="form-label">Kategori Kegiatan</label>
                                                <select class="form-select" id="activityCategory" required>
                                                    <option value="" selected disabled>Pilih kategori</option>
                                                    <option value="seminar">Seminar</option>
                                                    <option value="pelatihan">Pelatihan</option>
                                                    <option value="rapat">Rapat</option>
                                                    <option value="lainnya">Lainnya</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="activityDescription" class="form-label">Deskripsi Kegiatan</label>
                                                <textarea class="form-control" id="activityDescription" rows="3"></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="activityParticipants" class="form-label">Peserta</label>
                                                <select class="form-select" id="activityParticipants" multiple>
                                                    <option value="all">Semua Anggota</option>
                                                    <option value="pengurus">Pengurus</option>
                                                    <option value="anggota_baru">Anggota Baru</option>
                                                    <option value="komisi1">Komisi 1</option>
                                                    <option value="komisi2">Komisi 2</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Upload Poster/Dokumen</label>
                                                <div class="file-upload-container" id="activityFileUpload">
                                                    <i class="fas fa-cloud-upload-alt fa-3x mb-2" style="color: var(--pmkri-blue);"></i>
                                                    <p>Seret file ke sini atau klik untuk memilih</p>
                                                    <input type="file" id="activityFileInput" style="display: none;" accept=".jpg,.jpeg,.png,.pdf">
                                                    <div id="activityFilePreview" class="mt-2"></div>
                                                </div>
                                            </div>
                                            <div class="d-flex justify-content-end">
                                                <button type="reset" class="btn btn-outline-secondary me-2">Reset</button>
                                                <button type="submit" class="btn btn-pmkri">Simpan Kegiatan</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Petunjuk</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="alert alert-info">
                                            <h6><i class="fas fa-info-circle me-2"></i> Cara Menambahkan Kegiatan:</h6>
                                            <ol class="mt-3">
                                                <li>Isi semua field yang wajib diisi</li>
                                                <li>Pastikan tanggal dan waktu sudah benar</li>
                                                <li>Upload poster jika diperlukan</li>
                                                <li>Klik "Simpan Kegiatan" untuk menyimpan</li>
                                            </ol>
                                        </div>
                                        <div class="alert alert-warning">
                                            <h6><i class="fas fa-exclamation-triangle me-2"></i> Perhatian:</h6>
                                            <ul class="mt-3">
                                                <li>Kegiatan yang sudah dipublikasikan tidak bisa dihapus</li>
                                                <li>Pastikan tidak ada jadwal yang bentrok</li>
                                                <li>Periksa kembali sebelum menyimpan</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Detail Kegiatan -->
    <div class="modal fade" id="activityModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="activityModalTitle">Detail Kegiatan</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="mb-3">
                                <h6>Deskripsi:</h6>
                                <p id="activityModalDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula.</p>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <h6>Tanggal:</h6>
                                    <p id="activityModalDate">15 Juli 2025</p>
                                </div>
                                <div class="col-md-6">
                                    <h6>Waktu:</h6>
                                    <p id="activityModalTime">09:00 - 12:00 WIB</p>
                                </div>
                            </div>
                            <div class="mb-3">
                                <h6>Lokasi:</h6>
                                <p id="activityModalLocation">Aula Universitas, Jakarta Pusat</p>
                            </div>
                            <div class="mb-3">
                                <h6>Peserta:</h6>
                                <p id="activityModalParticipants">Semua Anggota PMKRI</p>
                            </div>
                            <div class="mb-3">
                                <h6>Penanggung Jawab:</h6>
                                <p id="activityModalPersonInCharge">Budi Santoso (081234567890)</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <h6>Poster Kegiatan:</h6>
                                <img src="https://via.placeholder.com/300x400?text=Poster+Kegiatan" alt="Poster Kegiatan" class="img-fluid rounded" id="activityModalPoster">
                            </div>
                            <div class="d-grid gap-2">
                                <button class="btn btn-pmkri"><i class="fas fa-calendar-plus me-2"></i>Tambahkan ke Kalender</button>
                                <button class="btn btn-yellow"><i class="fas fa-share-alt me-2"></i>Bagikan</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                    <button type="button" class="btn btn-pmkri">Edit Kegiatan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales/id.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inisialisasi kalender
            const calendarEl = document.getElementById('calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                locale: 'id',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: [
                    {
                        title: 'Seminar Kepemimpinan',
                        start: '2025-07-15T09:00:00',
                        end: '2025-07-15T12:00:00',
                        backgroundColor: '#3498DB',
                        borderColor: '#3498DB'
                    },
                    {
                        title: 'Pelatihan Public Speaking',
                        start: '2025-07-20T13:00:00',
                        end: '2025-07-20T16:00:00',
                        backgroundColor: '#2ECC71',
                        borderColor: '#2ECC71'
                    },
                    {
                        title: 'Rapat Evaluasi Kegiatan',
                        start: '2025-07-25T10:00:00',
                        end: '2025-07-25T12:00:00',
                        backgroundColor: '#F1C40F',
                        borderColor: '#F1C40F'
                    },
                    {
                        title: 'Pembukaan Kegiatan Baru',
                        start: '2025-07-10T09:00:00',
                        end: '2025-07-10T10:00:00',
                        backgroundColor: '#9B59B6',
                        borderColor: '#9B59B6'
                    },
                    {
                        title: 'Koordinasi Panitia',
                        start: '2025-07-10T14:00:00',
                        end: '2025-07-10T15:30:00',
                        backgroundColor: '#E67E22',
                        borderColor: '#E67E22'
                    }
                ],
                eventClick: function(info) {
                    const modal = new bootstrap.Modal(document.getElementById('activityModal'));
                    
                    // Set data modal berdasarkan event yang diklik
                    document.getElementById('activityModalTitle').textContent = info.event.title;
                    document.getElementById('activityModalDate').textContent = info.event.start.toLocaleDateString('id-ID', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
                    document.getElementById('activityModalTime').textContent = 
                        info.event.start.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }) + ' - ' +
                        info.event.end.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }) + ' WIB';
                    
                    // Tampilkan modal
                    modal.show();
                    
                    // Prevent default behavior
                    info.jsEvent.preventDefault();
                }
            });
            calendar.render();

            // File upload functionality
            const activityFileUpload = document.getElementById('activityFileUpload');
            const activityFileInput = document.getElementById('activityFileInput');
            const activityFilePreview = document.getElementById('activityFilePreview');

            activityFileUpload.addEventListener('click', () => activityFileInput.click());
            activityFileInput.addEventListener('change', function(e) {
                activityFilePreview.innerHTML = '';
                
                if (this.files && this.files.length > 0) {
                    for (let i = 0; i < this.files.length; i++) {
                        const file = this.files[i];
                        const fileType = file.type.split('/')[0];
                        
                        if (fileType === 'image') {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                img.classList.add('img-fluid', 'mt-2');
                                img.style.maxHeight = '200px';
                                activityFilePreview.appendChild(img);
                            };
                            reader.readAsDataURL(file);
                        } else {
                            const icon = document.createElement('i');
                            icon.className = 'fas fa-file-pdf fa-2x me-2';
                            icon.style.color = '#FF0000';
                            
                            const fileName = document.createElement('span');
                            fileName.textContent = file.name;
                            
                            const wrapper = document.createElement('div');
                            wrapper.classList.add('d-flex', 'align-items-center', 'mt-2');
                            wrapper.appendChild(icon);
                            wrapper.appendChild(fileName);
                            
                            activityFilePreview.appendChild(wrapper);
                        }
                    }
                }
            });

            // Form submission
            document.getElementById('activityForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validasi form
                const activityName = document.getElementById('activityName').value;
                const activityDate = document.getElementById('activityDate').value;
                const startTime = document.getElementById('startTime').value;
                const endTime = document.getElementById('endTime').value;
                const activityLocation = document.getElementById('activityLocation').value;
                const activityCategory = document.getElementById('activityCategory').value;
                
                if (!activityName || !activityDate || !startTime || !endTime || !activityLocation || !activityCategory) {
                    alert('Harap isi semua field yang wajib diisi!');
                    return;
                }
                
                // Simpan data kegiatan (dalam aplikasi nyata, ini akan mengirim data ke server)
                alert('Kegiatan berhasil disimpan!');
                this.reset();
                activityFilePreview.innerHTML = '';
                
                // Tambahkan event ke kalender
                const newEvent = {
                    title: activityName,
                    start: `${activityDate}T${startTime}:00`,
                    end: `${activityDate}T${endTime}:00`,
                    backgroundColor: getCategoryColor(activityCategory),
                    borderColor: getCategoryColor(activityCategory)
                };
                calendar.addEvent(newEvent);
                
                // Pindah ke tab kalender
                const tab = new bootstrap.Tab(document.getElementById('calendar-tab'));
                tab.show();
            });

            // Tombol print calendar
            document.getElementById('printCalendar').addEventListener('click', function() {
                alert('Mencetak kalender...');
                // Dalam aplikasi nyata, ini akan membuka dialog print
            });

            // Tombol export calendar
            document.getElementById('exportCalendar').addEventListener('click', function() {
                alert('Mengekspor kalender...');
                // Dalam aplikasi nyata, ini akan mengekspor kalender ke format PDF/Excel
            });

            // Fungsi helper untuk mendapatkan warna berdasarkan kategori
            function getCategoryColor(category) {
                const colors = {
                    'seminar': '#3498DB',
                    'pelatihan': '#2ECC71',
                    'rapat': '#F1C40F',
                    'lainnya': '#9B59B6'
                };
                return colors[category] || '#3498DB';
            }
        });
    </script>
</body>
</html>